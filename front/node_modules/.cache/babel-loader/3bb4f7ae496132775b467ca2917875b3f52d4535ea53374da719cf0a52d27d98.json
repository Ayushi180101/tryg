{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2021 Google LLC.\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommandProcessor = void 0;\nconst protocol_js_1 = require(\"../protocol/protocol.js\");\nconst EventEmitter_js_1 = require(\"../utils/EventEmitter.js\");\nconst log_js_1 = require(\"../utils/log.js\");\nconst BidiNoOpParser_js_1 = require(\"./BidiNoOpParser.js\");\nconst BrowserProcessor_js_1 = require(\"./domains/browser/BrowserProcessor.js\");\nconst CdpProcessor_js_1 = require(\"./domains/cdp/CdpProcessor.js\");\nconst BrowsingContextProcessor_js_1 = require(\"./domains/context/BrowsingContextProcessor.js\");\nconst InputProcessor_js_1 = require(\"./domains/input/InputProcessor.js\");\nconst NetworkProcessor_js_1 = require(\"./domains/network/NetworkProcessor.js\");\nconst NetworkStorage_js_1 = require(\"./domains/network/NetworkStorage.js\");\nconst PermissionsProcessor_js_1 = require(\"./domains/permissions/PermissionsProcessor.js\");\nconst PreloadScriptStorage_js_1 = require(\"./domains/script/PreloadScriptStorage.js\");\nconst ScriptProcessor_js_1 = require(\"./domains/script/ScriptProcessor.js\");\nconst SessionProcessor_js_1 = require(\"./domains/session/SessionProcessor.js\");\nconst StorageProcessor_js_1 = require(\"./domains/storage/StorageProcessor.js\");\nconst OutgoingMessage_js_1 = require(\"./OutgoingMessage.js\");\nclass CommandProcessor extends EventEmitter_js_1.EventEmitter {\n  // keep-sorted start\n  #browserProcessor;\n  #browsingContextProcessor;\n  #cdpProcessor;\n  #inputProcessor;\n  #networkProcessor;\n  #permissionsProcessor;\n  #scriptProcessor;\n  #sessionProcessor;\n  #storageProcessor;\n  // keep-sorted end\n  #parser;\n  #logger;\n  constructor(cdpConnection, browserCdpClient, eventManager, selfTargetId, defaultUserContextId, browsingContextStorage, realmStorage, acceptInsecureCerts, sharedIdWithFrame, parser = new BidiNoOpParser_js_1.BidiNoOpParser(), logger) {\n    super();\n    this.#parser = parser;\n    this.#logger = logger;\n    const networkStorage = new NetworkStorage_js_1.NetworkStorage(eventManager, browserCdpClient, logger);\n    const preloadScriptStorage = new PreloadScriptStorage_js_1.PreloadScriptStorage();\n    // keep-sorted start block=yes\n    this.#browserProcessor = new BrowserProcessor_js_1.BrowserProcessor(browserCdpClient);\n    this.#browsingContextProcessor = new BrowsingContextProcessor_js_1.BrowsingContextProcessor(cdpConnection, browserCdpClient, selfTargetId, eventManager, browsingContextStorage, realmStorage, networkStorage, preloadScriptStorage, acceptInsecureCerts, sharedIdWithFrame, defaultUserContextId, logger);\n    this.#cdpProcessor = new CdpProcessor_js_1.CdpProcessor(browsingContextStorage, realmStorage, cdpConnection, browserCdpClient);\n    this.#inputProcessor = new InputProcessor_js_1.InputProcessor(browsingContextStorage, realmStorage);\n    this.#networkProcessor = new NetworkProcessor_js_1.NetworkProcessor(browsingContextStorage, networkStorage);\n    this.#permissionsProcessor = new PermissionsProcessor_js_1.PermissionsProcessor(browserCdpClient);\n    this.#scriptProcessor = new ScriptProcessor_js_1.ScriptProcessor(browsingContextStorage, realmStorage, preloadScriptStorage, logger);\n    this.#sessionProcessor = new SessionProcessor_js_1.SessionProcessor(eventManager);\n    this.#storageProcessor = new StorageProcessor_js_1.StorageProcessor(browserCdpClient, browsingContextStorage, logger);\n    // keep-sorted end\n  }\n  async #processCommand(command) {\n    switch (command.method) {\n      case 'session.end':\n      case 'session.new':\n        // TODO: Implement.\n        break;\n      // Browser domain\n      // keep-sorted start block=yes\n      case 'browser.close':\n        return this.#browserProcessor.close();\n      case 'browser.createUserContext':\n        return await this.#browserProcessor.createUserContext(command.params);\n      case 'browser.getUserContexts':\n        return await this.#browserProcessor.getUserContexts();\n      case 'browser.removeUserContext':\n        return await this.#browserProcessor.removeUserContext(this.#parser.parseRemoveUserContextParams(command.params));\n      // keep-sorted end\n      // Browsing Context domain\n      // keep-sorted start block=yes\n      case 'browsingContext.activate':\n        return await this.#browsingContextProcessor.activate(this.#parser.parseActivateParams(command.params));\n      case 'browsingContext.captureScreenshot':\n        return await this.#browsingContextProcessor.captureScreenshot(this.#parser.parseCaptureScreenshotParams(command.params));\n      case 'browsingContext.close':\n        return await this.#browsingContextProcessor.close(this.#parser.parseCloseParams(command.params));\n      case 'browsingContext.create':\n        return await this.#browsingContextProcessor.create(this.#parser.parseCreateParams(command.params));\n      case 'browsingContext.getTree':\n        return this.#browsingContextProcessor.getTree(this.#parser.parseGetTreeParams(command.params));\n      case 'browsingContext.handleUserPrompt':\n        return await this.#browsingContextProcessor.handleUserPrompt(this.#parser.parseHandleUserPromptParams(command.params));\n      case 'browsingContext.locateNodes':\n        throw new protocol_js_1.UnsupportedOperationException(`Command '${command.method}' not yet implemented.`);\n      case 'browsingContext.navigate':\n        return await this.#browsingContextProcessor.navigate(this.#parser.parseNavigateParams(command.params));\n      case 'browsingContext.print':\n        return await this.#browsingContextProcessor.print(this.#parser.parsePrintParams(command.params));\n      case 'browsingContext.reload':\n        return await this.#browsingContextProcessor.reload(this.#parser.parseReloadParams(command.params));\n      case 'browsingContext.setViewport':\n        return await this.#browsingContextProcessor.setViewport(this.#parser.parseSetViewportParams(command.params));\n      case 'browsingContext.traverseHistory':\n        return await this.#browsingContextProcessor.traverseHistory(this.#parser.parseTraverseHistoryParams(command.params));\n      // keep-sorted end\n      // CDP domain\n      // keep-sorted start block=yes\n      case 'cdp.getSession':\n        return this.#cdpProcessor.getSession(this.#parser.parseGetSessionParams(command.params));\n      case 'cdp.resolveRealm':\n        return this.#cdpProcessor.resolveRealm(this.#parser.parseResolveRealmParams(command.params));\n      case 'cdp.sendCommand':\n        return await this.#cdpProcessor.sendCommand(this.#parser.parseSendCommandParams(command.params));\n      // keep-sorted end\n      // Input domain\n      // keep-sorted start block=yes\n      case 'input.performActions':\n        return await this.#inputProcessor.performActions(this.#parser.parsePerformActionsParams(command.params));\n      case 'input.releaseActions':\n        return await this.#inputProcessor.releaseActions(this.#parser.parseReleaseActionsParams(command.params));\n      case 'input.setFiles':\n        return await this.#inputProcessor.setFiles(this.#parser.parseSetFilesParams(command.params));\n      // keep-sorted end\n      // Network domain\n      // keep-sorted start block=yes\n      case 'network.addIntercept':\n        return await this.#networkProcessor.addIntercept(this.#parser.parseAddInterceptParams(command.params));\n      case 'network.continueRequest':\n        return await this.#networkProcessor.continueRequest(this.#parser.parseContinueRequestParams(command.params));\n      case 'network.continueResponse':\n        return await this.#networkProcessor.continueResponse(this.#parser.parseContinueResponseParams(command.params));\n      case 'network.continueWithAuth':\n        return await this.#networkProcessor.continueWithAuth(this.#parser.parseContinueWithAuthParams(command.params));\n      case 'network.failRequest':\n        return await this.#networkProcessor.failRequest(this.#parser.parseFailRequestParams(command.params));\n      case 'network.provideResponse':\n        return await this.#networkProcessor.provideResponse(this.#parser.parseProvideResponseParams(command.params));\n      case 'network.removeIntercept':\n        return await this.#networkProcessor.removeIntercept(this.#parser.parseRemoveInterceptParams(command.params));\n      // keep-sorted end\n      // Permissions domain\n      // keep-sorted start block=yes\n      case 'permissions.setPermission':\n        return await this.#permissionsProcessor.setPermissions(this.#parser.parseSetPermissionsParams(command.params));\n      // keep-sorted end\n      // Script domain\n      // keep-sorted start block=yes\n      case 'script.addPreloadScript':\n        return await this.#scriptProcessor.addPreloadScript(this.#parser.parseAddPreloadScriptParams(command.params));\n      case 'script.callFunction':\n        return await this.#scriptProcessor.callFunction(this.#parser.parseCallFunctionParams(command.params));\n      case 'script.disown':\n        return await this.#scriptProcessor.disown(this.#parser.parseDisownParams(command.params));\n      case 'script.evaluate':\n        return await this.#scriptProcessor.evaluate(this.#parser.parseEvaluateParams(command.params));\n      case 'script.getRealms':\n        return this.#scriptProcessor.getRealms(this.#parser.parseGetRealmsParams(command.params));\n      case 'script.removePreloadScript':\n        return await this.#scriptProcessor.removePreloadScript(this.#parser.parseRemovePreloadScriptParams(command.params));\n      // keep-sorted end\n      // Session domain\n      // keep-sorted start block=yes\n      case 'session.status':\n        return this.#sessionProcessor.status();\n      case 'session.subscribe':\n        return await this.#sessionProcessor.subscribe(this.#parser.parseSubscribeParams(command.params), command.channel);\n      case 'session.unsubscribe':\n        return await this.#sessionProcessor.unsubscribe(this.#parser.parseSubscribeParams(command.params), command.channel);\n      // keep-sorted end\n      // Storage domain\n      // keep-sorted start block=yes\n      case 'storage.deleteCookies':\n        return await this.#storageProcessor.deleteCookies(this.#parser.parseDeleteCookiesParams(command.params));\n      case 'storage.getCookies':\n        return await this.#storageProcessor.getCookies(this.#parser.parseGetCookiesParams(command.params));\n      case 'storage.setCookie':\n        return await this.#storageProcessor.setCookie(this.#parser.parseSetCookieParams(command.params));\n      // keep-sorted end\n    }\n    // Intentionally kept outside the switch statement to ensure that\n    // ESLint @typescript-eslint/switch-exhaustiveness-check triggers if a new\n    // command is added.\n    throw new protocol_js_1.UnknownCommandException(`Unknown command '${command.method}'.`);\n  }\n  async processCommand(command) {\n    try {\n      const result = await this.#processCommand(command);\n      const response = {\n        type: 'success',\n        id: command.id,\n        result\n      };\n      this.emit(\"response\" /* CommandProcessorEvents.Response */, {\n        message: OutgoingMessage_js_1.OutgoingMessage.createResolved(response, command.channel),\n        event: command.method\n      });\n    } catch (e) {\n      if (e instanceof protocol_js_1.Exception) {\n        this.emit(\"response\" /* CommandProcessorEvents.Response */, {\n          message: OutgoingMessage_js_1.OutgoingMessage.createResolved(e.toErrorResponse(command.id), command.channel),\n          event: command.method\n        });\n      } else {\n        const error = e;\n        this.#logger?.(log_js_1.LogType.bidi, error);\n        this.emit(\"response\" /* CommandProcessorEvents.Response */, {\n          message: OutgoingMessage_js_1.OutgoingMessage.createResolved(new protocol_js_1.UnknownErrorException(error.message, error.stack).toErrorResponse(command.id), command.channel),\n          event: command.method\n        });\n      }\n    }\n  }\n}\nexports.CommandProcessor = CommandProcessor;","map":{"version":3,"names":["protocol_js_1","require","EventEmitter_js_1","log_js_1","BidiNoOpParser_js_1","BrowserProcessor_js_1","CdpProcessor_js_1","BrowsingContextProcessor_js_1","InputProcessor_js_1","NetworkProcessor_js_1","NetworkStorage_js_1","PermissionsProcessor_js_1","PreloadScriptStorage_js_1","ScriptProcessor_js_1","SessionProcessor_js_1","StorageProcessor_js_1","OutgoingMessage_js_1","CommandProcessor","EventEmitter","browserProcessor","browsingContextProcessor","cdpProcessor","inputProcessor","networkProcessor","permissionsProcessor","scriptProcessor","sessionProcessor","storageProcessor","parser","logger","constructor","cdpConnection","browserCdpClient","eventManager","selfTargetId","defaultUserContextId","browsingContextStorage","realmStorage","acceptInsecureCerts","sharedIdWithFrame","BidiNoOpParser","networkStorage","NetworkStorage","preloadScriptStorage","PreloadScriptStorage","BrowserProcessor","BrowsingContextProcessor","CdpProcessor","InputProcessor","NetworkProcessor","PermissionsProcessor","ScriptProcessor","SessionProcessor","StorageProcessor","processCommand","#processCommand","command","method","close","createUserContext","params","getUserContexts","removeUserContext","parseRemoveUserContextParams","activate","parseActivateParams","captureScreenshot","parseCaptureScreenshotParams","parseCloseParams","create","parseCreateParams","getTree","parseGetTreeParams","handleUserPrompt","parseHandleUserPromptParams","UnsupportedOperationException","navigate","parseNavigateParams","print","parsePrintParams","reload","parseReloadParams","setViewport","parseSetViewportParams","traverseHistory","parseTraverseHistoryParams","getSession","parseGetSessionParams","resolveRealm","parseResolveRealmParams","sendCommand","parseSendCommandParams","performActions","parsePerformActionsParams","releaseActions","parseReleaseActionsParams","setFiles","parseSetFilesParams","addIntercept","parseAddInterceptParams","continueRequest","parseContinueRequestParams","continueResponse","parseContinueResponseParams","continueWithAuth","parseContinueWithAuthParams","failRequest","parseFailRequestParams","provideResponse","parseProvideResponseParams","removeIntercept","parseRemoveInterceptParams","setPermissions","parseSetPermissionsParams","addPreloadScript","parseAddPreloadScriptParams","callFunction","parseCallFunctionParams","disown","parseDisownParams","evaluate","parseEvaluateParams","getRealms","parseGetRealmsParams","removePreloadScript","parseRemovePreloadScriptParams","status","subscribe","parseSubscribeParams","channel","unsubscribe","deleteCookies","parseDeleteCookiesParams","getCookies","parseGetCookiesParams","setCookie","parseSetCookieParams","UnknownCommandException","result","response","type","id","emit","message","OutgoingMessage","createResolved","event","e","Exception","toErrorResponse","error","LogType","bidi","UnknownErrorException","stack","exports"],"sources":["../../../src/bidiMapper/CommandProcessor.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}